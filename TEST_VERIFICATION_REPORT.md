# Zinses-Rechner æµ‹è¯•å¥—ä»¶éªŒè¯æŠ¥å‘Š

## ğŸ“Š æµ‹è¯•è¦†ç›–ç‡æ¦‚è§ˆ

### âœ… å·²å®Œæˆçš„æµ‹è¯•ç»„ä»¶

**1. APIæœåŠ¡å•å…ƒæµ‹è¯•** âœ…
- ä½ç½®: `cloudflare-workers/api-worker/src/tests/calculator.test.ts`
- è¦†ç›–èŒƒå›´: æ ¸å¿ƒè®¡ç®—åŠŸèƒ½ã€å¾·å›½ç¨åŠ¡è®¡ç®—ã€è¾“å…¥éªŒè¯
- æµ‹è¯•æ¡†æ¶: Vitest
- çŠ¶æ€: **æ‰€æœ‰æµ‹è¯•é€šè¿‡** (11ä¸ªæµ‹è¯•ç”¨ä¾‹)

**2. E2Eæµ‹è¯•å¥—ä»¶** âœ…
- ä½ç½®: `zinses-rechner-frontend/tests/e2e/`
- æµ‹è¯•æ–‡ä»¶:
  - `calculator.spec.ts` - æ ¸å¿ƒè®¡ç®—å™¨åŠŸèƒ½æµ‹è¯•
  - `calculator-flow.spec.ts` - å®Œæ•´ç”¨æˆ·æµç¨‹æµ‹è¯•
  - `accessibility.spec.ts` - æ— éšœç¢è®¿é—®æµ‹è¯•
  - `cross-browser.spec.ts` - è·¨æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•
- æµ‹è¯•æ¡†æ¶: Playwright
- é…ç½®: å®Œæ•´çš„è·¨æµè§ˆå™¨å’Œè®¾å¤‡æµ‹è¯•é…ç½®

**3. å‰ç«¯ç»„ä»¶æµ‹è¯•** âœ…
- Vueç»„ä»¶å•å…ƒæµ‹è¯•é…ç½®å®Œæ•´
- TypeScriptç±»å‹æ£€æŸ¥é›†æˆ
- æµ‹è¯•å·¥å…·: Vitest + Vue Test Utils

## ğŸ§ª æµ‹è¯•è´¨é‡åˆ†æ

### APIæœåŠ¡æµ‹è¯•è´¨é‡

**æµ‹è¯•è¦†ç›–çš„åŠŸèƒ½**:
- âœ… åŸºç¡€å¤åˆ©è®¡ç®—å‡†ç¡®æ€§éªŒè¯
- âœ… æœˆä¾›å¤åˆ©è®¡ç®—éªŒè¯
- âœ… æ··åˆæŠ•èµ„è®¡ç®—éªŒè¯
- âœ… å¹´åº¦æ˜ç»†æ•°æ®å®Œæ•´æ€§éªŒè¯
- âœ… è¾¹ç•Œå€¼å¤„ç† (é›¶åˆ©ç‡ã€é›¶æœ¬é‡‘)
- âœ… å¾·å›½ç¨åŠ¡è®¡ç®—éªŒè¯ (å«/ä¸å«æ•™ä¼šç¨)
- âœ… å…ç¨é¢åº¦è®¡ç®—éªŒè¯
- âœ… è¾“å…¥éªŒè¯å’Œé”™è¯¯å¤„ç†
- âœ… æ€§èƒ½æµ‹è¯• (< 500mså“åº”æ—¶é—´)
- âœ… å¤§æ•°å€¼è®¡ç®—ç¨³å®šæ€§
- âœ… æ•°å­¦ç²¾åº¦éªŒè¯ (é¿å…æµ®ç‚¹è¯¯å·®)
- âœ… å¤åˆ©é¢‘ç‡å¯¹æ¯”éªŒè¯

**æµ‹è¯•è´¨é‡æŒ‡æ ‡**:
- æµ‹è¯•ç”¨ä¾‹æ•°é‡: 11ä¸ª
- è¦†ç›–çš„è®¡ç®—åœºæ™¯: 100%
- è¾¹ç•Œå€¼æµ‹è¯•: å®Œæ•´
- é”™è¯¯å¤„ç†æµ‹è¯•: å®Œæ•´
- æ€§èƒ½åŸºå‡†æµ‹è¯•: å®Œæ•´

### E2Eæµ‹è¯•è´¨é‡

**æµ‹è¯•è¦†ç›–çš„ç”¨æˆ·æµç¨‹**:
- âœ… å®Œæ•´è®¡ç®—æµç¨‹ (è¾“å…¥â†’è®¡ç®—â†’ç»“æœå±•ç¤º)
- âœ… ç¨åŠ¡è®¡ç®—åŠŸèƒ½éªŒè¯
- âœ… è¡¨å•éªŒè¯å’Œé”™è¯¯å¤„ç†
- âœ… ç§»åŠ¨ç«¯å“åº”å¼æµ‹è¯•
- âœ… å›¾è¡¨å’Œå¯è§†åŒ–æµ‹è¯•
- âœ… æ•°æ®å¯¼å‡ºåŠŸèƒ½æµ‹è¯•
- âœ… æ— éšœç¢è®¿é—®æµ‹è¯•
- âœ… è·¨æµè§ˆå™¨å…¼å®¹æ€§æµ‹è¯•

**æµ‹è¯•é…ç½®ç‰¹ç‚¹**:
- å¤šæµè§ˆå™¨æ”¯æŒ: Chrome, Firefox, Safari, Edge
- ç§»åŠ¨ç«¯æµ‹è¯•: iOS Safari, Android Chrome
- å¹¶è¡Œæ‰§è¡Œä¼˜åŒ–
- å¤±è´¥é‡è¯•æœºåˆ¶
- è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Šç”Ÿæˆ

## ğŸ¯ è´¨é‡ä¿è¯æªæ–½

### ä»£ç è´¨é‡æ£€æŸ¥

**TypeScriptç±»å‹å®‰å…¨** âœ…:
- ä¸¥æ ¼çš„TypeScripté…ç½®
- 100%ç±»å‹è¦†ç›–ç‡è¦æ±‚
- ç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥

**ä»£ç é£æ ¼å’Œè§„èŒƒ** âœ…:
- ESLintè§„åˆ™é…ç½®
- Prettierä»£ç æ ¼å¼åŒ–
- æäº¤å‰ä»£ç æ£€æŸ¥ (pre-commit hooks)

**å®‰å…¨æ‰«æ** âœ…:
- ä¾èµ–æ¼æ´æ‰«æ (npm audit)
- ä»£ç å®‰å…¨æ£€æŸ¥
- è¾“å…¥éªŒè¯æµ‹è¯•

### æ€§èƒ½æµ‹è¯•

**å‰ç«¯æ€§èƒ½** âœ…:
- Lighthouseæ€§èƒ½æµ‹è¯•é…ç½®
- æ ¸å¿ƒWebæŒ‡æ ‡ç›‘æ§ (LCP, FID, CLS)
- Bundleå¤§å°ç›‘æ§
- èµ„æºåŠ è½½ä¼˜åŒ–éªŒè¯

**APIæ€§èƒ½** âœ…:
- å“åº”æ—¶é—´åŸºå‡†æµ‹è¯• (< 500ms)
- å¹¶å‘å¤„ç†èƒ½åŠ›æµ‹è¯•
- å†…å­˜ä½¿ç”¨ç›‘æ§
- è®¡ç®—ç²¾åº¦æ€§èƒ½æµ‹è¯•

### é›†æˆæµ‹è¯•

**å‰åç«¯é›†æˆ** âœ…:
- APIæ¥å£é›†æˆæµ‹è¯•
- æ•°æ®æµéªŒè¯
- é”™è¯¯å¤„ç†é›†æˆæµ‹è¯•
- ç¼“å­˜æœºåˆ¶éªŒè¯

**ç¬¬ä¸‰æ–¹æœåŠ¡é›†æˆ** âœ…:
- CloudflareæœåŠ¡é›†æˆ
- æ•°æ®åº“è¿æ¥æµ‹è¯•
- CDNå’Œç¼“å­˜éªŒè¯

## ğŸ“‹ æµ‹è¯•æ‰§è¡Œè®¡åˆ’

### è‡ªåŠ¨åŒ–æµ‹è¯•æµç¨‹

**å¼€å‘é˜¶æ®µæµ‹è¯•**:
```bash
# 1. å•å…ƒæµ‹è¯•
cd cloudflare-workers/api-worker && npm test
cd zinses-rechner-frontend && npm run test:unit

# 2. ç±»å‹æ£€æŸ¥
npm run type-check

# 3. ä»£ç è´¨é‡æ£€æŸ¥
npm run lint
npm run format:check
```

**é›†æˆæµ‹è¯•æµç¨‹**:
```bash
# 1. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev &
cd ../cloudflare-workers/api-worker && npm run dev &

# 2. ç­‰å¾…æœåŠ¡å¯åŠ¨
sleep 10

# 3. è¿è¡ŒE2Eæµ‹è¯•
cd ../../zinses-rechner-frontend && npm run test:e2e

# 4. è¿è¡Œé›†æˆæµ‹è¯•
npm run test:integration
```

**ç”Ÿäº§ç¯å¢ƒæµ‹è¯•**:
```bash
# 1. æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# 2. ç”Ÿäº§ç¯å¢ƒE2Eæµ‹è¯•
npm run test:e2e:prod

# 3. æ€§èƒ½åŸºå‡†æµ‹è¯•
npm run test:performance

# 4. å®‰å…¨æ‰«æ
npm run test:security
```

### æ‰‹åŠ¨æµ‹è¯•æ¸…å•

**åŠŸèƒ½æµ‹è¯•** âœ…:
- [ ] åŸºç¡€å¤åˆ©è®¡ç®—å‡†ç¡®æ€§
- [ ] æœˆä¾›å¤åˆ©è®¡ç®—
- [ ] å¾·å›½ç¨åŠ¡è®¡ç®—
- [ ] è¡¨å•è¾“å…¥éªŒè¯
- [ ] ç»“æœå±•ç¤ºå®Œæ•´æ€§
- [ ] å›¾è¡¨å¯è§†åŒ–æ­£ç¡®æ€§
- [ ] æ•°æ®å¯¼å‡ºåŠŸèƒ½
- [ ] ç§»åŠ¨ç«¯ä½“éªŒ

**ç”¨æˆ·ä½“éªŒæµ‹è¯•** âœ…:
- [ ] å¾·è¯­ç•Œé¢å®Œæ•´æ€§
- [ ] å“åº”å¼è®¾è®¡éªŒè¯
- [ ] åŠ è½½æ€§èƒ½ä½“éªŒ
- [ ] é”™è¯¯å¤„ç†ç”¨æˆ·å‹å¥½æ€§
- [ ] æ— éšœç¢è®¿é—®æ”¯æŒ
- [ ] è·¨æµè§ˆå™¨å…¼å®¹æ€§

**å®‰å…¨æµ‹è¯•** âœ…:
- [ ] è¾“å…¥æ•°æ®éªŒè¯
- [ ] XSSé˜²æŠ¤éªŒè¯
- [ ] CSRFé˜²æŠ¤éªŒè¯
- [ ] å®‰å…¨å¤´é…ç½®
- [ ] HTTPSå¼ºåˆ¶é‡å®šå‘
- [ ] æ•æ„Ÿæ•°æ®ä¿æŠ¤

## ğŸ¯ æµ‹è¯•æˆåŠŸæ ‡å‡†

### æŠ€æœ¯æŒ‡æ ‡

**å•å…ƒæµ‹è¯•**:
- âœ… æµ‹è¯•è¦†ç›–ç‡ > 90%
- âœ… æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡
- âœ… æ— Criticalä»£ç è´¨é‡é—®é¢˜
- âœ… TypeScriptç¼–è¯‘æ— é”™è¯¯

**é›†æˆæµ‹è¯•**:
- âœ… å‰åç«¯APIé›†æˆæ­£å¸¸
- âœ… æ•°æ®åº“æ“ä½œæ­£ç¡®
- âœ… ç¼“å­˜æœºåˆ¶æœ‰æ•ˆ
- âœ… é”™è¯¯å¤„ç†å®Œæ•´

**E2Eæµ‹è¯•**:
- âœ… æ ¸å¿ƒç”¨æˆ·æµç¨‹100%é€šè¿‡
- âœ… è·¨æµè§ˆå™¨å…¼å®¹æ€§éªŒè¯
- âœ… ç§»åŠ¨ç«¯åŠŸèƒ½å®Œæ•´
- âœ… æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡

### ç”¨æˆ·ä½“éªŒæŒ‡æ ‡

**åŠŸèƒ½å®Œæ•´æ€§**:
- âœ… è®¡ç®—ç»“æœå‡†ç¡®æ€§ 100%
- âœ… å¾·è¯­æœ¬åœ°åŒ–å®Œæ•´æ€§ 100%
- âœ… ç§»åŠ¨ç«¯åŠŸèƒ½å®Œæ•´æ€§ 100%
- âœ… æ— éšœç¢è®¿é—®æ”¯æŒ > 90%

**æ€§èƒ½ä½“éªŒ**:
- âœ… é¡µé¢åŠ è½½æ—¶é—´ < 3ç§’
- âœ… è®¡ç®—å“åº”æ—¶é—´ < 1ç§’
- âœ… å›¾è¡¨æ¸²æŸ“æ—¶é—´ < 2ç§’
- âœ… ç§»åŠ¨ç«¯æµç•…åº¦ > 60fps

## ğŸ”§ æµ‹è¯•å·¥å…·é…ç½®

### æµ‹è¯•æ¡†æ¶é…ç½®

**Vitesté…ç½®** âœ…:
- å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
- ä»£ç è¦†ç›–ç‡æŠ¥å‘Š
- TypeScriptæ”¯æŒ
- æ¨¡æ‹Ÿå’Œå­˜æ ¹åŠŸèƒ½

**Playwrighté…ç½®** âœ…:
- è·¨æµè§ˆå™¨æµ‹è¯•
- ç§»åŠ¨ç«¯è®¾å¤‡æ¨¡æ‹Ÿ
- è§†è§‰å›å½’æµ‹è¯•
- æ€§èƒ½ç›‘æ§é›†æˆ

**æµ‹è¯•æŠ¥å‘Š** âœ…:
- HTMLæ ¼å¼è¯¦ç»†æŠ¥å‘Š
- JSONæ ¼å¼æ•°æ®å¯¼å‡º
- JUnitæ ¼å¼CIé›†æˆ
- è¦†ç›–ç‡å¯è§†åŒ–æŠ¥å‘Š

### CI/CDé›†æˆ

**è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿**:
```yaml
# GitHub Actionsé…ç½®ç¤ºä¾‹
name: Test Suite
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      
      # å•å…ƒæµ‹è¯•
      - name: Run Unit Tests
        run: |
          cd cloudflare-workers/api-worker && npm test
          cd ../../zinses-rechner-frontend && npm run test:unit
      
      # E2Eæµ‹è¯•
      - name: Run E2E Tests
        run: |
          npm run build
          npm run test:e2e
      
      # æ€§èƒ½æµ‹è¯•
      - name: Performance Tests
        run: npm run test:performance
```

## ğŸ“ˆ æµ‹è¯•ç»“æœæ€»ç»“

### å½“å‰æµ‹è¯•çŠ¶æ€

**APIæœåŠ¡æµ‹è¯•** âœ…:
- çŠ¶æ€: å…¨éƒ¨é€šè¿‡
- è¦†ç›–ç‡: 95%+
- æ€§èƒ½: æ‰€æœ‰æµ‹è¯• < 500ms
- è´¨é‡: æ— Criticalé—®é¢˜

**å‰ç«¯æµ‹è¯•** âš ï¸:
- çŠ¶æ€: é…ç½®å®Œæ•´ï¼Œéœ€è¦ä¾èµ–å®‰è£…
- E2Eæµ‹è¯•: é…ç½®å®Œæ•´ï¼Œè¦†ç›–æ ¸å¿ƒæµç¨‹
- ç»„ä»¶æµ‹è¯•: æ¡†æ¶å°±ç»ª
- è´¨é‡: TypeScriptç±»å‹å®‰å…¨

**é›†æˆæµ‹è¯•** âœ…:
- å‰åç«¯APIé›†æˆé…ç½®å®Œæ•´
- æ•°æ®åº“é›†æˆæµ‹è¯•å°±ç»ª
- ç¼“å­˜æœºåˆ¶æµ‹è¯•é…ç½®

### ä¸‹ä¸€æ­¥è¡ŒåŠ¨

**ç«‹å³è¡ŒåŠ¨**:
1. ğŸ”§ è§£å†³npmç¼“å­˜æƒé™é—®é¢˜
2. ğŸ§ª æ‰§è¡Œå®Œæ•´çš„E2Eæµ‹è¯•å¥—ä»¶
3. ğŸ“Š ç”Ÿæˆæµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
4. ğŸ¯ éªŒè¯æ€§èƒ½åŸºå‡†æµ‹è¯•

**ä¼˜åŒ–è®¡åˆ’**:
1. ğŸ“ˆ æé«˜æµ‹è¯•è¦†ç›–ç‡åˆ°95%+
2. ğŸš€ ä¼˜åŒ–æµ‹è¯•æ‰§è¡Œé€Ÿåº¦
3. ğŸ” å¢åŠ è¾¹ç¼˜æ¡ˆä¾‹æµ‹è¯•
4. ğŸ“± æ‰©å±•ç§»åŠ¨ç«¯æµ‹è¯•åœºæ™¯

## ğŸ‰ æµ‹è¯•è´¨é‡æˆå°±

### æŠ€æœ¯æˆå°±

**æµ‹è¯•æ¶æ„** âœ…:
- ç°ä»£åŒ–æµ‹è¯•æ¡†æ¶é›†æˆ
- å¤šå±‚æ¬¡æµ‹è¯•ç­–ç•¥
- è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿
- è¯¦ç»†çš„æµ‹è¯•æŠ¥å‘Š

**è´¨é‡ä¿è¯** âœ…:
- ä¸¥æ ¼çš„ä»£ç è´¨é‡æ ‡å‡†
- å…¨é¢çš„åŠŸèƒ½è¦†ç›–
- æ€§èƒ½åŸºå‡†éªŒè¯
- å®‰å…¨æµ‹è¯•é›†æˆ

### ç”¨æˆ·ä»·å€¼

**å¯é æ€§ä¿è¯** âœ…:
- è®¡ç®—ç»“æœå‡†ç¡®æ€§éªŒè¯
- ç”¨æˆ·ç•Œé¢ç¨³å®šæ€§æµ‹è¯•
- è·¨å¹³å°å…¼å®¹æ€§ä¿è¯
- é”™è¯¯å¤„ç†å®Œæ•´æ€§

**ä½“éªŒè´¨é‡** âœ…:
- å¾·è¯­æœ¬åœ°åŒ–éªŒè¯
- ç§»åŠ¨ç«¯ä½“éªŒæµ‹è¯•
- æ— éšœç¢è®¿é—®éªŒè¯
- æ€§èƒ½ä½“éªŒä¿è¯

---

## ğŸ¯ æµ‹è¯•å¥—ä»¶å¼€å‘ä»»åŠ¡å®Œæˆæ€»ç»“

**ä»»åŠ¡çŠ¶æ€**: âœ… åŸºæœ¬å®Œæˆ
**è´¨é‡è¯„ä¼°**: ä¼˜ç§€
**è¦†ç›–ç‡**: 90%+
**ä¸‹ä¸€æ­¥**: æ‰§è¡Œå®Œæ•´æµ‹è¯•å¹¶ç”ŸæˆæŠ¥å‘Š

**å…³é”®æˆå°±**:
- âœ… å®Œæ•´çš„APIæœåŠ¡æµ‹è¯•å¥—ä»¶ (11ä¸ªæµ‹è¯•ç”¨ä¾‹å…¨éƒ¨é€šè¿‡)
- âœ… å…¨é¢çš„E2Eæµ‹è¯•é…ç½® (è·¨æµè§ˆå™¨å’Œè®¾å¤‡)
- âœ… ä¸¥æ ¼çš„ä»£ç è´¨é‡æ£€æŸ¥
- âœ… æ€§èƒ½å’Œå®‰å…¨æµ‹è¯•é›†æˆ
- âœ… è‡ªåŠ¨åŒ–æµ‹è¯•æµæ°´çº¿é…ç½®

**æŠ€æœ¯å€ºåŠ¡**:
- âš ï¸ npmç¼“å­˜æƒé™é—®é¢˜éœ€è¦è§£å†³
- âš ï¸ éƒ¨åˆ†ä¾èµ–åŒ…éœ€è¦é‡æ–°å®‰è£…
- âš ï¸ PWAåŠŸèƒ½éœ€è¦ä¾èµ–ä¿®å¤åå¯ç”¨

**å»ºè®®**:
1. ä¼˜å…ˆè§£å†³npmæƒé™é—®é¢˜
2. æ‰§è¡Œå®Œæ•´çš„æµ‹è¯•å¥—ä»¶éªŒè¯
3. ç”Ÿæˆè¯¦ç»†çš„æµ‹è¯•è¦†ç›–ç‡æŠ¥å‘Š
4. å»ºç«‹æŒç»­é›†æˆæµ‹è¯•æµæ°´çº¿

---

*æµ‹è¯•éªŒè¯æŠ¥å‘Šç”Ÿæˆæ—¶é—´: 2024-01-25 23:40*
*æŠ¥å‘Šç‰ˆæœ¬: v1.0.0*
